<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width" />
		<meta name="description" content="a developer blog of johan nordin covering dotnet .net azure" />
		<meta http-equiv="content-security-policy" content="">
		<link href="../_app/immutable/assets/_layout.cfd3ee66.css" rel="stylesheet">
		<link href="../_app/immutable/assets/ArticleMeta.4424d49e.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.dbde2ff0.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.013d6d90.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/paths.1b38571f.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/control.e7f5239e.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.7c68880c.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/preload-helper.41c905a7.js">
		<link rel="modulepreload" href="../_app/immutable/entry/_layout.svelte.7c6b2056.js">
		<link rel="modulepreload" href="../_app/immutable/entry/_layout.ts.984db11e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_layout.da46b06b.js">
		<link rel="modulepreload" href="../_app/immutable/entry/posts-_slug_-page.svelte.986fdd64.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/ArticleMeta.a0387bfa.js">
		<link rel="modulepreload" href="../_app/immutable/entry/posts-_slug_-page.ts.005a698a.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_page.82af2377.js"><title>Jsonbin.io and Asp.net Core | nordin.work</title><!-- HEAD_svelte-17be3w9_START --><meta property="og:site_name" content="nordin.work"><meta property="og:title" content="Jsonbin.io and Asp.net Core"><meta property="og:description" content="A simple way to mock your dependencies"><!-- HEAD_svelte-17be3w9_END -->
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">


<header class="svelte-qfic7z"><a href="/">üè†</a>
	<a class="small svelte-qfic7z" href="/about/">üë®‚Äçü¶≤</a>
	<button class="svelte-10p5m52">üåô
</button></header>

<main>
<h2 class="heading svelte-9r10v3 large" id="jsonbinio-and-aspnet-core"><a href="#jsonbinio-and-aspnet-core">Jsonbin.io and Asp.net Core</a></h2>
<p class="svelte-idic31"><span class="date svelte-idic31">Fri Apr 21 2023</span>
</p>

<p>I‚Äôve started using <a href="https://jsonbin.io" rel="nofollow">jsonbin</a> to mock some simple api calls. I‚Äôm impressed with the simplicity and the possibility to validate <code>bins</code> to a <code>JSON schema</code>. </p>
<ol><li>Ask chatgpt to write a example <code>JSON</code> given the <code>schema</code> that I provide.</li>
<li>Add a <code>bin</code> using their rest endpoint</li></ol>
<pre class="language-curl"><!-- HTML_TAG_START --><code class="language-curl">curl -v  -H &quot;Content-Type: application/json&quot;   -H &quot;X-Master-key: &lt;YOUR_API_KEY&gt;&quot;   --request POST   --data &#39;&#123;&quot;sample&quot;: &quot;Hello World&quot;&#125;&#39;     https://api.jsonbin.io/v3/b</code><!-- HTML_TAG_END --></pre>
<ol start="3"><li>In your ASP.net Core app add the http client and specify <code>X-Bin-Meta: false</code> to skip the extra wrapper.</li></ol>
<pre class="language-c#"><!-- HTML_TAG_START --><code class="language-c#">.AddHttpClient&lt;IMyHttpClient, MyHttpClient&gt;(options =&gt;
&#123;
    options.BaseAddress = new Uri(&quot;https://api.jsonbin.io/&quot;);
    options.DefaultRequestHeaders.Add(&quot;X-Bin-Meta&quot;, new [] &#123; &quot;false&quot; &#125;);
&#125;);</code><!-- HTML_TAG_END --></pre>
</main>


			
			<script>
				{
					__sveltekit_defv1u = {
						env: {},
						base: new URL("..", location).pathname.slice(0, -1),
						element: document.currentScript.parentElement
					};

					const data = [null,null];

					Promise.all([
						import("../_app/immutable/entry/start.dbde2ff0.js"),
						import("../_app/immutable/entry/app.7c68880c.js")
					]).then(([kit, app]) => {
						kit.start(app, __sveltekit_defv1u.element, {
							node_ids: [0, 4],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
